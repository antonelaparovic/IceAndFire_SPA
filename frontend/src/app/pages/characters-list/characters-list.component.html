<section class="page">
    <h1>Characters</h1>

    <div class="pager">
        <button (click)="prevPage()" [disabled]="page === 1 || (loading$ | async)">Prev</button>
        <span>Page {{ page }}</span>
        <button (click)="nextPage()" [disabled]="loading$ | async">Next</button>
    </div>

    <p *ngIf="loading$ | async">Loading...</p>

    <input class="search" type="text" [formControl]="search" placeholder="Search characters..." />

    <ul class="list" *ngIf="!(loading$ | async)">
        <li *ngFor="let c of (characters$ | async)" class="card-row">
            <div class="card-content">
                <a [routerLink]="['/characters', c.id]"><strong>{{ c.name }}</strong></a>
                <div class="meta">
                    <span *ngIf="c.gender">{{ c.gender }}</span>
                    <span *ngIf="c.culture">Â· {{ c.culture }}</span>
                </div>
            </div>
            <app-favourite-button [active]="(isFav$(c.id) | async) === true"
                [ariaLabel]="((isFav$(c.id) | async) ? 'Remove from favourites' : 'Add to favourites')" (toggle)="toggleFav(c.id)">
            </app-favourite-button>
        </li>
    </ul>
</section>